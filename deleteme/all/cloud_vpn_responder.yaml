---
cloud_vpn_responder_provisioner_role: "{{ config_map[cloud_vpn_responder_provisioner]['role'] }}"
cloud_vpn_responder_aws_access_key: "{{ config_map[cloud_vpn_responder_provisioner]['access_key'] }}"
cloud_vpn_responder_aws_secret_key: "{{ config_map[cloud_vpn_responder_provisioner]['secret_key'] }}"
cloud_vpn_responder_provider_role: "{{ config_map[cloud_vpn_responder_provisioner][cloud_vpn_responder_provider]['role'] }}"
cloud_vpn_responder_key_name: "{{ cloud_vpn_responder_image_id }}"
cloud_vpn_responder_instance_size: "{{ config_map[cloud_vpn_responder_provisioner][cloud_vpn_responder_provider]['size'] }}"
cloud_vpn_responder_user: "{{ config_map[cloud_vpn_responder_provisioner][cloud_vpn_responder_provider]['user'] }}"
cloud_vpn_responder_ssh_private_key_file: "{{ config_map[cloud_vpn_responder_provisioner][cloud_vpn_responder_provider]['key'] }}"
cloud_vpn_responder_image_name: "{{ config_map[cloud_vpn_responder_provisioner][cloud_vpn_responder_provider]['name'] }}"
cloud_vpn_responder_image_owner: "{{ config_map[cloud_vpn_responder_provisioner][cloud_vpn_responder_provider]['owner'] }}"
cloud_vpn_responder_vpc_cidr: "{{ cloud_vpn_vpc_cidr | ipsubnet(24, cloud_vpn_responder_site_id) }}"
cloud_vpn_responder_cidr: "{{ cloud_vpn_responder_vpc_cidr | ipsubnet(28, 1) }}"
cloud_vpn_responder_private_ip: "{{ cloud_vpn_responder_cidr | nthhost(5) }}"
cloud_vpn_responder_tunnel_interface: "{{ config_map[cloud_vpn_responder_provisioner][cloud_vpn_responder_provider]['tunnel_interface_prefix'] }}{{ cloud_vpn_responder_tunnel_interface_id }}"
# Use the initiator's id for interface marking
cloud_vpn_responder_tunnel_interface_mark: "{{ cloud_vpn_initiator_site_id }}/0xffffffff"
cloud_vpn_responder_tunnel_failover_interface_mark: "{{ cloud_vpn_responder_tunnel_interface_mark }}"
# the first ip of initiator's subnet
cloud_vpn_responder_tunnel_ip: "{{ cloud_vpn_tunnel_cidr | ipsubnet(30, cloud_vpn_initiator_site_id) | nthhost(1) }}"
# Use initiator's site id as interface id
cloud_vpn_responder_tunnel_interface_id: "{{ cloud_vpn_initiator_site_id }}"
